CREATE TABLE IF NOT EXISTS push (
    id BIGINT NOT NULL, actor_id INT NOT NULL, actor_login TEXT NOT NULL, repo_id INT NOT NULL, repo_name TEXT NOT NULL,  created_at TIMESTAMP NOT NULL,
    head TEXT NOT NULL, before TEXT NOT NULL, size BIGINT NOT NULL, distinct_size BIGINT NOT NULL
) PARTITION BY RANGE(created_at);

CREATE TABLE push_y2015m01 PARTITION OF push FOR VALUES FROM ('2015-01-01') TO ('2015-02-01');
CREATE TABLE push_y2015m02 PARTITION OF push FOR VALUES FROM ('2015-02-01') TO ('2015-03-01');
CREATE TABLE push_y2015m03 PARTITION OF push FOR VALUES FROM ('2015-03-01') TO ('2015-04-01');
CREATE TABLE push_y2015m04 PARTITION OF push FOR VALUES FROM ('2015-04-01') TO ('2015-05-01');
CREATE TABLE push_y2015m05 PARTITION OF push FOR VALUES FROM ('2015-05-01') TO ('2015-06-01');
CREATE TABLE push_y2015m06 PARTITION OF push FOR VALUES FROM ('2015-06-01') TO ('2015-07-01');
CREATE TABLE push_y2015m07 PARTITION OF push FOR VALUES FROM ('2015-07-01') TO ('2015-08-01');
CREATE TABLE push_y2015m08 PARTITION OF push FOR VALUES FROM ('2015-08-01') TO ('2015-09-01');
CREATE TABLE push_y2015m09 PARTITION OF push FOR VALUES FROM ('2015-09-01') TO ('2015-10-01');
CREATE TABLE push_y2015m10 PARTITION OF push FOR VALUES FROM ('2015-10-01') TO ('2015-11-01');
CREATE TABLE push_y2015m11 PARTITION OF push FOR VALUES FROM ('2015-11-01') TO ('2015-12-01');
CREATE TABLE push_y2015m12 PARTITION OF push FOR VALUES FROM ('2015-12-01') TO ('2016-01-01');
CREATE TABLE push_y2016m01 PARTITION OF push FOR VALUES FROM ('2016-01-01') TO ('2016-02-01');
CREATE TABLE push_y2016m02 PARTITION OF push FOR VALUES FROM ('2016-02-01') TO ('2016-03-01');
CREATE TABLE push_y2016m03 PARTITION OF push FOR VALUES FROM ('2016-03-01') TO ('2016-04-01');
CREATE TABLE push_y2016m04 PARTITION OF push FOR VALUES FROM ('2016-04-01') TO ('2016-05-01');
CREATE TABLE push_y2016m05 PARTITION OF push FOR VALUES FROM ('2016-05-01') TO ('2016-06-01');
CREATE TABLE push_y2016m06 PARTITION OF push FOR VALUES FROM ('2016-06-01') TO ('2016-07-01');
CREATE TABLE push_y2016m07 PARTITION OF push FOR VALUES FROM ('2016-07-01') TO ('2016-08-01');
CREATE TABLE push_y2016m08 PARTITION OF push FOR VALUES FROM ('2016-08-01') TO ('2016-09-01');
CREATE TABLE push_y2016m09 PARTITION OF push FOR VALUES FROM ('2016-09-01') TO ('2016-10-01');
CREATE TABLE push_y2016m10 PARTITION OF push FOR VALUES FROM ('2016-10-01') TO ('2016-11-01');
CREATE TABLE push_y2016m11 PARTITION OF push FOR VALUES FROM ('2016-11-01') TO ('2016-12-01');
CREATE TABLE push_y2016m12 PARTITION OF push FOR VALUES FROM ('2016-12-01') TO ('2017-01-01');
CREATE TABLE push_y2017m01 PARTITION OF push FOR VALUES FROM ('2017-01-01') TO ('2017-02-01');
CREATE TABLE push_y2017m02 PARTITION OF push FOR VALUES FROM ('2017-02-01') TO ('2017-03-01');
CREATE TABLE push_y2017m03 PARTITION OF push FOR VALUES FROM ('2017-03-01') TO ('2017-04-01');
CREATE TABLE push_y2017m04 PARTITION OF push FOR VALUES FROM ('2017-04-01') TO ('2017-05-01');
CREATE TABLE push_y2017m05 PARTITION OF push FOR VALUES FROM ('2017-05-01') TO ('2017-06-01');
CREATE TABLE push_y2017m06 PARTITION OF push FOR VALUES FROM ('2017-06-01') TO ('2017-07-01');
CREATE TABLE push_y2017m07 PARTITION OF push FOR VALUES FROM ('2017-07-01') TO ('2017-08-01');
CREATE TABLE push_y2017m08 PARTITION OF push FOR VALUES FROM ('2017-08-01') TO ('2017-09-01');
CREATE TABLE push_y2017m09 PARTITION OF push FOR VALUES FROM ('2017-09-01') TO ('2017-10-01');
CREATE TABLE push_y2017m10 PARTITION OF push FOR VALUES FROM ('2017-10-01') TO ('2017-11-01');
CREATE TABLE push_y2017m11 PARTITION OF push FOR VALUES FROM ('2017-11-01') TO ('2017-12-01');
CREATE TABLE push_y2017m12 PARTITION OF push FOR VALUES FROM ('2017-12-01') TO ('2018-01-01');
CREATE TABLE push_y2018m01 PARTITION OF push FOR VALUES FROM ('2018-01-01') TO ('2018-02-01');
CREATE TABLE push_y2018m02 PARTITION OF push FOR VALUES FROM ('2018-02-01') TO ('2018-03-01');
CREATE TABLE push_y2018m03 PARTITION OF push FOR VALUES FROM ('2018-03-01') TO ('2018-04-01');
CREATE TABLE push_y2018m04 PARTITION OF push FOR VALUES FROM ('2018-04-01') TO ('2018-05-01');
CREATE TABLE push_y2018m05 PARTITION OF push FOR VALUES FROM ('2018-05-01') TO ('2018-06-01');
CREATE TABLE push_y2018m06 PARTITION OF push FOR VALUES FROM ('2018-06-01') TO ('2018-07-01');
CREATE TABLE push_y2018m07 PARTITION OF push FOR VALUES FROM ('2018-07-01') TO ('2018-08-01');
CREATE TABLE push_y2018m08 PARTITION OF push FOR VALUES FROM ('2018-08-01') TO ('2018-09-01');
CREATE TABLE push_y2018m09 PARTITION OF push FOR VALUES FROM ('2018-09-01') TO ('2018-10-01');
CREATE TABLE push_y2018m10 PARTITION OF push FOR VALUES FROM ('2018-10-01') TO ('2018-11-01');
CREATE TABLE push_y2018m11 PARTITION OF push FOR VALUES FROM ('2018-11-01') TO ('2018-12-01');
CREATE TABLE push_y2018m12 PARTITION OF push FOR VALUES FROM ('2018-12-01') TO ('2019-01-01');
